(
    {a,b},
    {a,b},
    {1,2,3},
    {
        F{1}=out{a}(x);
        F{2}=(out{a}(x))*(#y((x<y)*(out{b}(y))));
        F{3}=(!out{a}(x))*(!out{b}(x))
    },
    {
        F{1,1}{a}=edge{a}(x,y);
        F{1,2}{a}=(#z((edge{a}(x,z))*(!out{a}(z))))*(fps{a}(x,y));
        F{1,3}{a}=!#z((F{1,1}{a}(x,z))+(F{1,2}{a}(x,z)));
        F{2,2}{b}=edge{a}(x,y);
        F{2,1}{b}=(#z((edge{a}(x,z))*(!out{a}(z))))*(next{a}(x,y));
        F{2,3}{b}=!#z((F{2,1}{b}(x,z))+(F{2,2}{b}(x,z)))
    }
)